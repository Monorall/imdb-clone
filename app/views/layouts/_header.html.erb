<header>
  <nav class="header">
    <ul class="left">
      <li>
        <%= link_to "All Movies", movies_path, class: "button" %>
      </li>

      <li class="search-container">
        <%= form_with url: search_movies_path, method: :get, local: true do |form| %>
          <%= form.label :genre_id, 'Search by genre:' %>
          <%= form.select :genre_id, Genre.all.collect { |g| [g.name, g.id] }, include_blank: 'All genres' %>
          <%= form.submit 'Search', class: 'button' %>
        <% end %>
      </li>

    </ul>
    <ul class="right">
      <% if current_user %>
        <li>
          <%= link_to current_user.name, current_user %>
        </li>
        <li>
          <%= link_to "Sign Out", session_path,
                      data: { turbo_method: :delete },
                      class: "button" %>
        </li>
      <% else %>
        <li>
          <%= link_to "Sign In", new_session_path, class: "button" %>
        </li>
        <li>
          <%= link_to "Sign Up", signup_path, class: "button" %>
        </li>
      <% end %>
    </ul>
  </nav>
</header>